<!DOCTYPE html>
<html>
    <head>
        <title>Joke Api</title>
    </head>
    <body>
        <button onclick="newJoke()">New Joke</button>
        <br><br>
        <div id="Joke"></div>

        <script>
            const jokeElement = document.getElementById("Joke");


            function newJoke()
            {
                const xhttp = new XMLHttpRequest();
                xhttp.onload = function ()
                {
                    const resOBJ = JSON.parse(this.response);

                    console.log(resOBJ)

                    if(resOBJ.joke)
                    {
                        jokeElement.innerHTML = `${resOBJ.joke}`;
                    }
                    else if(resOBJ.setup)
                    {
                        jokeElement.innerHTML = `${resOBJ.setup} <br> ${resOBJ.delivery}`;
                    }
                }
                xhttp.open("GET", "https://v2.jokeapi.dev/joke/Any?blacklistFlags=nsfw")
                xhttp.send()

                tryPost();
            }

            function tryPost()
            {
                const xhttpPost = new XMLHttpRequest();

                xhttpPost.onload = function ()
                {
                    const resOBJ = JSON.parse(this.response);

                    console.log(resOBJ)

                }
                
                xhttpPost.open("POST", "https://reqres.in/api/users");

                xhttpPost.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

                xhttpPost.send(
                    JSON.stringify({
                    id: 2,
                    title: "Whats_up"
                    })
                );
            }
            
        

        </script>
    </body>
</html>
